<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MAas' Song Compositions</title>
    <link rel="stylesheet" href="editall.css"> <!-- EVERYPAGE HAS IT -->
    <link rel="stylesheet" type="text/css" href="index.css"> <!-- ONLY FOR HOME PAGE -->
    <link rel="Icon" href="images/Title_Icon.png">
</head>
<body>

    <nav id="navigation" class="sideNav"> <!-- OPEN/LEFT NAVIGATION -->
        <div>
            <a href="javascript:void(0)" class="closeBtn" onclick="closeNav()" style="display: inline;"><b>&times;</b></a>

            <a href="index.html" style="display: inline;"><img src="images/Home.png" id="homeBtn"></a>
        </div>

        <input type="text" id="searchInput" onkeyup="mySearch()" placeholder="Search.." title="Type in a category">
            <ul id="songMenu"></ul>
    </nav>

    <div class="topNav" id="topNav"> <!-- TOP NAVIGATION -->
        <p>
            <span id="navSongs" style="cursor:pointer" onclick="openNav()"><img src="" alt="">Songs</span>
            <a href="composer.html" id="navLink">Composer</a>
            <a href="dedication.html" id="navLink">Dedication</a>
            <br>
        </p>
    </div>
    

    <div class="main">
        <header id="mainHeader">
                    <!-- MAIN HEADER -->
            <h1><b>MAas'<br>Compositions</b></h1>

            <div class="subtext"> <!-- SUB HEADER -->
                <p id="introText">
                    Where melodies turn into memories
                        <br>
                    and every song tells a piece of my story.
                </p>
            </div>
        </header>
        <div id="imageContainer"><img src="images/AGA Guitar.png" id="mainImage"></div>
    </div>


    <div class="featuredSongsBox"> <!-- FEATURED SONGS -->
        <h2 class="fsHeader">Featured Songs</h2>
        <div class="songCovers" id="featuredSong"></div>
    </div>

<script src="lyrics.js"></script><!-- DATA LYRICS -->

<!-- JavaScript script on the UI/UX -->
<script>

        // Set Style with user's device

    function detectDevice() {
        const body = document.body;
        const width = window.innerWidth;
        const height = window.innerHeight;
        const isPortrait = height > width;

        let device;

        if (width > 1200) {
            device = "Desktop";
        } else if (isPortrait && width <= 768) {
            device = "Phone";
        } else {
            device = "Tablet/iPad";
        }

        body.setAttribute("data-device", device);
        // Removed: document.getElementById("debug").innerHTML = device; (not present in HTML)

        console.log("Width:", width, "Height:", height, "Orientation:", isPortrait ? "Portrait" : "Landscape", "Device:", device);
    }

        // Call detectDevice on page load
        
    document.addEventListener("DOMContentLoaded", function() {
        detectDevice();
    });

        // Optional: Also call on window resize for dynamic updates

    window.addEventListener("resize", detectDevice);

        // Navigation

    function openNav() {
        document.getElementById("navigation").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("navigation").style.width = "0";
    }

    function myFunction() {
        var x = document.getElementById("topNav");
        if (x.classList === "topNav") {
            x.classList += " responsive";
        } else {
            x.classList = "topNav";
        }
    }

        // Search Bar

    function mySearch() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("searchInput");
        filter = input.value.toUpperCase();
        ul = document.getElementById("songMenu");
        li = ul.getElementsByTagName("li");

        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("a")[0];
            if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            } else {
            li[i].style.display = "none";
            }
        }
    }

        // Side Nav Song Titles

    const menu = document.getElementById("songMenu");

        Object.entries(lyricsData)
        .sort((a, b) => a[1].title.localeCompare(b[1].title))
        .forEach(([key, song]) => {
            const li = document.createElement("li");
            const a = document.createElement("a");

            a.href = `lyrics.html?song=${key}`;
            a.textContent = song.title;

            li.appendChild(a);
            menu.appendChild(li);
        });

        // Featured Songs

    const featuredSong = document.getElementById("featuredSong")

        Object.entries(featuredSongList)
        .forEach(([key, song]) => {
            const a = document.createElement("a");
            const img = document.createElement("img");
            const p = document.createElement("p");
            const span = document.createElement("span")

            img.src = song.cover;
            a.href = `lyrics.html?song=${key}`;
            p.textContent = song.title;
            span.textContent = song.details;

            featuredSong.appendChild(a);
            a.appendChild(img);
            featuredSong.appendChild(p);
            p.appendChild(span);
        });
</script>
</body>
</html>